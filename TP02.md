# TP2

## 2.1 Que sont les testcontainers ?

Testcontainers est une librairie Java qui permet d'utiliser des containers Docker pour les tests unitaires, comme des containers de base de données par exemple. Ils sont jetables et cela permet par exemple d'avoir des données spécifiques pour les tests de notre backend sans avoir à utiliser une base de données "réelle".

## 2.2 Nos GitHub Actions

main.yaml :

```yaml
name: CI devops 2023
on:
  #to begin you want to launch this job in main and develop
  push:
    branches: [ main, develop ] # job déclenché sur lors des push sur les branches main et develop
  pull_request:

jobs:
  test-backend:
    runs-on: ubuntu-22.04
    steps:
      #checkout your github code using actions/checkout@v2.5.0
      - uses: actions/checkout@v2.5.0

      #do the same with another action (actions/setup-java@v3) that enable to setup jdk 17
      - name: Set up JDK 17
        uses: actions/setup-java@v3 # on utilise l'action setup-java@v3 pour installer java 17
        with:
          java-version: '17' # java version 17
          distribution: 'adopt' # On spécifie la distribution adoptopenjdk

      #finally build your app with the latest command
      - name: Build and test with Maven
        run: mvn clean verify --file backend/sources/simpleapi/pom.xml # on lance la commande mvn clean verify sur le pom.xml§ du backend, en spécifiant le chemin du pom.xml

```